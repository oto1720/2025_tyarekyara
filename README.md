# tyarekyara

è­°è«–ã‚’é€šã˜ã¦å¤šè§’çš„ãªæ€è€ƒåŠ›ã‚’é¤Šã†Flutterã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

tyarekyaraã¯ã€æ—¥ã€…ã®ãƒˆãƒ”ãƒƒã‚¯ã«å¯¾ã—ã¦æ„è¦‹ã‚’æŠ•ç¨¿ã—ã€ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨è­°è«–ã‚’äº¤ã‚ã™ã“ã¨ã§ã€å¤šè§’çš„ãªæ€è€ƒåŠ›ã‚’è‚²ã‚€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## ä¸»ãªæ©Ÿèƒ½

### ğŸ  ãƒ›ãƒ¼ãƒ æ©Ÿèƒ½
- æ—¥æ›¿ã‚ã‚Šãƒˆãƒ”ãƒƒã‚¯ã®è¡¨ç¤º
- æ„è¦‹ã®æŠ•ç¨¿ï¼ˆè³›æˆãƒ»åå¯¾ãƒ»ä¸­ç«‹ï¼‰
- ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ï¼ˆã„ã„ã­ã€è€ƒãˆã•ã›ã‚‰ã‚Œã‚‹ã€é¢ç™½ã„ãªã©ï¼‰
- è‡ªåˆ†ã®æŠ•ç¨¿ã‚’ä¸Šéƒ¨ã«è¡¨ç¤º

### ğŸ¯ ãƒãƒ£ãƒ¬ãƒ³ã‚¸æ©Ÿèƒ½ï¼ˆè¦–ç‚¹äº¤æ›ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼‰
- è‡ªåˆ†ã¨ã¯åå¯¾ã®ç«‹å ´ã§æ„è¦‹ã‚’è€ƒãˆã‚‹ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°
- ãƒãƒ£ãƒ¬ãƒ³ã‚¸å®Œäº†ã§ãƒã‚¤ãƒ³ãƒˆç²å¾—
- é›£æ˜“åº¦åˆ¥ã®ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼ˆç°¡å˜ãƒ»æ™®é€šãƒ»é›£ã—ã„ï¼‰
- **Firebaseé€£æºã«ã‚ˆã‚‹æ°¸ç¶šåŒ–**
  - ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã®é€²è¡ŒçŠ¶æ³ã‚’Firestoreã«ä¿å­˜
  - ã‚¢ãƒ—ãƒªå†èµ·å‹•å¾Œã‚‚ãƒ‡ãƒ¼ã‚¿ã‚’å¾©å…ƒ
  - è¤‡æ•°ç«¯æœ«ã§ã®åŒæœŸå¯¾å¿œ

### ğŸ“Š çµ±è¨ˆæ©Ÿèƒ½
- å‚åŠ çµ±è¨ˆ
- ç«‹å ´åˆ¥ã®åˆ†å¸ƒ
- å¤šæ§˜æ€§ã‚¹ã‚³ã‚¢
- ç²å¾—ãƒãƒƒã‚¸

### âš™ï¸ è¨­å®šæ©Ÿèƒ½
- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†
- é€šçŸ¥è¨­å®š
- ãƒ†ãƒ¼ãƒè¨­å®š

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ»è¨€èª
- Flutter
- Dart

### çŠ¶æ…‹ç®¡ç†
- Riverpod 2.x

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- Firebase Authenticationï¼ˆèªè¨¼ï¼‰
- Cloud Firestoreï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼‰
- Firebase Storageï¼ˆç”»åƒä¿å­˜ï¼‰
- Firebase Cloud Messagingï¼ˆãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ï¼‰

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
  - Presentation Layerï¼ˆUIï¼‰
  - Provider Layerï¼ˆçŠ¶æ…‹ç®¡ç†ï¼‰
  - Repository Layerï¼ˆãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
  - Model Layerï¼ˆãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼‰
  - Service Layerï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼‰

### ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- go_router

### ãƒ‡ãƒ¼ã‚¿å‡¦ç†
- freezedï¼ˆã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãªãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ï¼‰
- json_serializableï¼ˆJSONã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºï¼‰

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
lib/
â”œâ”€â”€ feature/
â”‚   â”œâ”€â”€ auth/                    # èªè¨¼æ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â””â”€â”€ services/
â”‚   â”œâ”€â”€ home/                    # ãƒ›ãƒ¼ãƒ ãƒ»ãƒˆãƒ”ãƒƒã‚¯æ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ presentation/
â”‚   â”œâ”€â”€ challenge/               # ãƒãƒ£ãƒ¬ãƒ³ã‚¸æ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â””â”€â”€ challenge_model.dart
â”‚   â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”‚   â””â”€â”€ challenge_provider.dart
â”‚   â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”‚   â””â”€â”€ challenge_repositories.dart  # Firebaseé€£æº
â”‚   â”‚   â””â”€â”€ presentaion/
â”‚   â”‚       â”œâ”€â”€ pages/
â”‚   â”‚       â””â”€â”€ widgets/
â”‚   â”œâ”€â”€ statistics/              # çµ±è¨ˆæ©Ÿèƒ½
â”‚   â””â”€â”€ settings/                # è¨­å®šæ©Ÿèƒ½
â”œâ”€â”€ router/                      # ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š
â”œâ”€â”€ utils/                       # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â””â”€â”€ widgets/                     # å…±é€šã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ
```

## Firestoreãƒ‡ãƒ¼ã‚¿æ§‹é€ 

### userChallenges ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã®é€²è¡ŒçŠ¶æ³ã‚’ä¿å­˜
```
userChallenges/{userId}_{challengeId}/
â”œâ”€â”€ id: string                   # ãƒãƒ£ãƒ¬ãƒ³ã‚¸ID
â”œâ”€â”€ userId: string               # ãƒ¦ãƒ¼ã‚¶ãƒ¼ID
â”œâ”€â”€ title: string                # ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚¿ã‚¤ãƒˆãƒ«
â”œâ”€â”€ stance: string               # å…ƒã®ç«‹å ´ï¼ˆpro/conï¼‰
â”œâ”€â”€ difficulty: string           # é›£æ˜“åº¦ï¼ˆeasy/normal/hardï¼‰
â”œâ”€â”€ status: string               # ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆavailable/completedï¼‰
â”œâ”€â”€ originalOpinionText: string  # å…ƒã®æ„è¦‹
â”œâ”€â”€ oppositeOpinionText: string  # ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã§æ›¸ã„ãŸåå¯¾æ„è¦‹
â”œâ”€â”€ earnedPoints: int            # ç²å¾—ãƒã‚¤ãƒ³ãƒˆ
â””â”€â”€ completedAt: Timestamp       # å®Œäº†æ—¥æ™‚
```

### opinions ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ„è¦‹ã‚’ä¿å­˜
```
opinions/{opinionId}/
â”œâ”€â”€ id: string
â”œâ”€â”€ topicId: string
â”œâ”€â”€ userId: string
â”œâ”€â”€ userName: string
â”œâ”€â”€ stance: string               # agree/disagree/neutral
â”œâ”€â”€ content: string
â”œâ”€â”€ createdAt: Timestamp
â”œâ”€â”€ reactionCounts: Map
â””â”€â”€ reactedUsers: Map
```

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å¿…è¦ãªç’°å¢ƒ
- Flutter SDK 3.xä»¥ä¸Š
- Dart 3.xä»¥ä¸Š
- Firebase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †

1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone [repository-url]
cd 2025_tyarekyara
```

2. ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
flutter pub get
```

3. Firebaseã®è¨­å®š
- Firebase Consoleã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
- iOS/Androidã‚¢ãƒ—ãƒªã‚’è¿½åŠ 
- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®
  - iOS: `ios/Runner/GoogleService-Info.plist`
  - Android: `android/app/google-services.json`

4. ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ
```bash
flutter pub run build_runner build --delete-conflicting-outputs
```

5. ã‚¢ãƒ—ãƒªã‚’å®Ÿè¡Œ
```bash
flutter run
```

## é–‹ç™º

### ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ
freezedã‚„json_serializableã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€å¤‰æ›´å¾Œã«ä»¥ä¸‹ã‚’å®Ÿè¡Œï¼š
```bash
flutter pub run build_runner build --delete-conflicting-outputs
```

### é™çš„è§£æ
```bash
flutter analyze
```

### ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
```bash
dart format .
```

## æœ€è¿‘ã®æ›´æ–°

### 2025-11-08: Challengeæ©Ÿèƒ½ã®Firebaseé€£æºå®Ÿè£…
- `challenge_model.dart`ã«Firestoreç”¨ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ 
- `challenge_repositories.dart`ã§Firestoreæ“ä½œã‚’å®Ÿè£…
- `challenge_provider.dart`ã§ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ãƒ»ä¿å­˜æ©Ÿèƒ½ã‚’è¿½åŠ 
- ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã®é€²è¡ŒçŠ¶æ³ãŒæ°¸ç¶šåŒ–ã•ã‚Œã€ã‚¢ãƒ—ãƒªå†èµ·å‹•å¾Œã‚‚å¾©å…ƒå¯èƒ½ã«
- è¤‡æ•°ç«¯æœ«ã§ã®åŒæœŸã«å¯¾å¿œ

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ç§çš„ãªå­¦ç¿’ãƒ»é–‹ç™ºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚
