# Guideæ©Ÿèƒ½ (ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãƒ»ã‚¬ã‚¤ãƒ‰ã‚·ã‚¹ãƒ†ãƒ )

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€ã‚¢ãƒ—ãƒªã®ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŠã‚ˆã³æ“ä½œã‚¬ã‚¤ãƒ‰æ©Ÿèƒ½ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## ç›®æ¬¡

- [æ¦‚è¦](#æ¦‚è¦)
- [ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ](#ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ )
- [2ã¤ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚·ã‚¹ãƒ†ãƒ ](#2ã¤ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚·ã‚¹ãƒ†ãƒ )
  - [1. åˆå›ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](#1-åˆå›ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«)
  - [2. ãƒšãƒ¼ã‚¸å†…ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](#2-ãƒšãƒ¼ã‚¸å†…ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«)
- [ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°](#ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°)
- [ä¾å­˜é–¢ä¿‚](#ä¾å­˜é–¢ä¿‚)
- [ä»–æ©Ÿèƒ½ã¨ã®é–¢ä¿‚](#ä»–æ©Ÿèƒ½ã¨ã®é–¢ä¿‚)
- [ä½¿ç”¨ä¾‹](#ä½¿ç”¨ä¾‹)
- [æ‹¡å¼µæ–¹æ³•](#æ‹¡å¼µæ–¹æ³•)
- [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## æ¦‚è¦

Guideæ©Ÿèƒ½ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¢ãƒ—ãƒªã‚’åŠ¹æœçš„ã«åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã€2ã¤ã®ç•°ãªã‚‹ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’æä¾›ã—ã¾ã™ã€‚

### ç›®çš„

1. **æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°**: ã‚¢ãƒ—ãƒªã®å…¨ä½“åƒã¨ä¸»è¦æ©Ÿèƒ½ã®ç´¹ä»‹
2. **ç”»é¢ã”ã¨ã®æ“ä½œã‚¬ã‚¤ãƒ‰**: å„æ©Ÿèƒ½ã®è©³ç´°ãªä½¿ã„æ–¹ã‚’èª¬æ˜

### ç‰¹å¾´

- âœ¨ **2ã¤ã®ç‹¬ç«‹ã—ãŸãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚·ã‚¹ãƒ†ãƒ **
  - åˆå›ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: ã‚¹ãƒ©ã‚¤ãƒ‰å½¢å¼ã®å…¨ä½“èª¬æ˜
  - ãƒšãƒ¼ã‚¸å†…ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: å„ç”»é¢ã§ã®æ“ä½œã‚¬ã‚¤ãƒ‰
- ğŸ’¾ **æ°¸ç¶šåŒ–**: SharedPreferencesã§è¡¨ç¤ºçŠ¶æ…‹ã‚’ç®¡ç†
- ğŸ¨ **è¦–è¦šçš„ãƒ‡ã‚¶ã‚¤ãƒ³**: ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€ç”»åƒã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- â­ï¸ **ã‚¹ã‚­ãƒƒãƒ—å¯èƒ½**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é¸æŠã‚’å°Šé‡
- ğŸ“± **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**: ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³å¯¾å¿œ

---

## ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
Guideæ©Ÿèƒ½
â”œâ”€â”€ åˆå›ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
â”‚   â”œâ”€â”€ FirstPage (ã‚¦ã‚§ãƒ«ã‚«ãƒ ç”»é¢)
â”‚   â””â”€â”€ TutorialPage (ã‚¹ãƒ©ã‚¤ãƒ‰å¼èª¬æ˜)
â”‚
â””â”€â”€ ãƒšãƒ¼ã‚¸å†…ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
    â”œâ”€â”€ ShowcaseView (UIè¦ç´ ãƒã‚¤ãƒ©ã‚¤ãƒˆ)
    â””â”€â”€ TutorialBottomSheet (æ“ä½œã‚¬ã‚¤ãƒ‰è¡¨ç¤º)
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
èµ·å‹•
 â”œâ”€â†’ åˆå›èµ·å‹•ï¼Ÿ
 â”‚    â”œâ”€ Yes â†’ FirstPage â†’ TutorialPage â†’ Home
 â”‚    â””â”€ No  â†’ Home
 â”‚
 â””â”€â†’ å„ç”»é¢é·ç§»æ™‚
      â””â”€â†’ åˆå›è¡¨ç¤ºï¼Ÿ
           â”œâ”€ Yes â†’ ShowcaseViewè¡¨ç¤º & TutorialBottomSheetåˆ©ç”¨å¯èƒ½
           â””â”€ No  â†’ é€šå¸¸è¡¨ç¤º
```

---

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
lib/feature/guide/
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ tutorial_item.dart           # åˆå›ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
â”‚   â””â”€â”€ page_tutorial_data.dart      # ãƒšãƒ¼ã‚¸å†…ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
â”‚
â”œâ”€â”€ providers/
â”‚   â”œâ”€â”€ tutorial_provider.dart       # åˆå›ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®çŠ¶æ…‹ç®¡ç†
â”‚   â””â”€â”€ page_tutorial_provider.dart  # ãƒšãƒ¼ã‚¸å†…ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®çŠ¶æ…‹ç®¡ç†
â”‚
â”œâ”€â”€ presentaion/
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ first_page.dart          # ã‚¢ãƒ—ãƒªèµ·å‹•æ™‚ã®æœ€åˆã®ãƒšãƒ¼ã‚¸
â”‚   â”‚   â””â”€â”€ tutorial_page.dart       # ã‚¹ãƒ©ã‚¤ãƒ‰å¼ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
â”‚   â”‚
â”‚   â””â”€â”€ widgets/
â”‚       â”œâ”€â”€ tutorial_card.dart               # ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚«ãƒ¼ãƒ‰Widget
â”‚       â”œâ”€â”€ tutorial_dialog.dart             # æ“ä½œã‚¬ã‚¤ãƒ‰ãƒœãƒˆãƒ ã‚·ãƒ¼ãƒˆ
â”‚       â””â”€â”€ tutorial_showcase_wrapper.dart   # ShowcaseViewç®¡ç†Wrapper
â”‚
â””â”€â”€ README.md
```

**æ³¨æ„**: `presentaion` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ã‚¹ãƒšãƒ«ãƒŸã‚¹ã§ã™ãŒã€æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¨ã®æ•´åˆæ€§ã®ãŸã‚ãã®ã¾ã¾ã«ã—ã¦ã„ã¾ã™ã€‚

---

## 2ã¤ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚·ã‚¹ãƒ†ãƒ 

### 1. åˆå›ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«

æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¯¾ã—ã¦ã€ã‚¢ãƒ—ãƒªå…¨ä½“ã®ä½¿ã„æ–¹ã‚’èª¬æ˜ã™ã‚‹ãƒ¯ãƒ³ã‚¿ã‚¤ãƒ è¡¨ç¤ºã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã€‚

#### æ§‹æˆ

##### FirstPage (`presentaion/pages/first_page.dart`)

- **å½¹å‰²**: ã‚¢ãƒ—ãƒªèµ·å‹•æ™‚ã®æœ€åˆã®ç”»é¢
- **è¡¨ç¤ºã‚¿ã‚¤ãƒŸãƒ³ã‚°**: æœªãƒ­ã‚°ã‚¤ãƒ³ & ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«æœªå®Œäº†æ™‚
- **ä¸»è¦æ©Ÿèƒ½**:
  - ã‚¢ãƒ—ãƒªåã¨ãƒ­ã‚´ã®è¡¨ç¤º
  - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆç”»é¢ã‚µã‚¤ã‚ºã«å¿œã˜ãŸè‡ªå‹•èª¿æ•´ï¼‰
  - ã€Œå§‹ã‚ã‚‹ã€ãƒœã‚¿ãƒ³ â†’ `/tutorial` ã¸é·ç§»
  - ã€Œãƒ­ã‚°ã‚¤ãƒ³ã€ãƒªãƒ³ã‚¯ â†’ `/login` ã¸é·ç§»

```dart
// é·ç§»ä¾‹
context.go('/tutorial');  // ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã¸
context.go('/login');      // ãƒ­ã‚°ã‚¤ãƒ³ã¸
```

##### TutorialPage (`presentaion/pages/tutorial_page.dart`)

- **å½¹å‰²**: PageViewå½¢å¼ã®ã‚¹ãƒ©ã‚¤ãƒ‰ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
- **ãƒšãƒ¼ã‚¸æ•°**: 9ãƒšãƒ¼ã‚¸ï¼ˆTutorialData.itemsã§å®šç¾©ï¼‰
- **ä¸»è¦æ©Ÿèƒ½**:
  - ã‚¹ãƒ¯ã‚¤ãƒ—ã§ãƒšãƒ¼ã‚¸ç§»å‹•
  - ãƒšãƒ¼ã‚¸ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼
  - ã‚¹ã‚­ãƒƒãƒ—ãƒœã‚¿ãƒ³
  - å®Œäº†å¾Œã«SharedPreferencesã¸ä¿å­˜

**UIæ§‹æˆ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AppBar                              â”‚
â”‚    å³ä¸Š: [ã‚¹ã‚­ãƒƒãƒ—] ãƒœã‚¿ãƒ³            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  PageView (ã‚¹ãƒ¯ã‚¤ãƒ—å¯èƒ½)              â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚    â”‚   TutorialCard      â”‚         â”‚
â”‚    â”‚   - ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³    â”‚         â”‚
â”‚    â”‚   - ã‚¢ã‚¤ã‚³ãƒ³         â”‚         â”‚
â”‚    â”‚   - ã‚¿ã‚¤ãƒˆãƒ«         â”‚         â”‚
â”‚    â”‚   - èª¬æ˜æ–‡          â”‚         â”‚
â”‚    â”‚   - ç”»åƒ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³) â”‚         â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â—â—â—‹â—‹â—‹  (PageIndicator)            â”‚
â”‚                                     â”‚
â”‚  [æˆ»ã‚‹]           [æ¬¡ã¸ / å§‹ã‚ã‚‹]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

##### TutorialItem (`models/tutorial_item.dart`)

```dart
class TutorialItem {
  final String title;              // ã‚¿ã‚¤ãƒˆãƒ«
  final String description;        // èª¬æ˜æ–‡
  final IconData icon;             // ã‚¢ã‚¤ã‚³ãƒ³
  final String? imagePath;         // ç”»åƒãƒ‘ã‚¹ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
  final Color primaryColor;        // ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹è‰²
  final Color secondaryColor;      // ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³çµ‚äº†è‰²
  final String? subtitle;          // ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ« (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
  final List<String>? bulletPoints; // ç®‡æ¡æ›¸ããƒªã‚¹ãƒˆ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
  final bool showImage;            // ç”»åƒè¡¨ç¤ºãƒ•ãƒ©ã‚° (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: true)
}
```

##### TutorialData (`models/tutorial_item.dart`)

```dart
class TutorialData {
  static const List<TutorialItem> items = [
    // 9ãƒšãƒ¼ã‚¸ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«å®šç¾©
    // 1. ã‚¨ã‚³ãƒã‚§ãƒ³ãƒãƒ¼ç¾è±¡ã®èª¬æ˜
    // 2. Criticaã®ç›®çš„
    // 3. æ©Ÿèƒ½ä¸€è¦§
    // 4. æ„è¦‹ã‚’æŠ•ç¨¿
    // 5. ä»–ã®äººã®æ„è¦‹ã‚’è¦‹ã‚‹
    // 6. ãƒãƒ£ãƒ¬ãƒ³ã‚¸æ©Ÿèƒ½
    // 7. ãƒ‡ã‚£ãƒ™ãƒ¼ãƒˆã‚’å§‹ã‚ã‚‹
    // 8. çµ±è¨ˆæƒ…å ±ã‚’è¦‹ã‚‹
    // 9. å§‹ã‚ã¾ã—ã‚‡ã†ï¼
  ];
}
```

#### çŠ¶æ…‹ç®¡ç†

##### TutorialProvider (`providers/tutorial_provider.dart`)

```dart
// ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«å®Œäº†çŠ¶æ…‹ã®å–å¾—
final tutorialCompletedProvider = FutureProvider<bool>((ref) async {
  final prefs = await SharedPreferences.getInstance();
  return prefs.getBool('tutorial_completed') ?? false;
});

// ãƒšãƒ¼ã‚¸é·ç§»ã®ç®¡ç†
final tutorialNotifierProvider = NotifierProvider<TutorialNotifier, int>(() {
  return TutorialNotifier();
});

class TutorialNotifier extends Notifier<int> {
  int build() => 0;  // åˆæœŸãƒšãƒ¼ã‚¸: 0

  void nextPage()      // æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸
  void previousPage()  // å‰ã®ãƒšãƒ¼ã‚¸ã¸
  void goToPage(int)   // æŒ‡å®šãƒšãƒ¼ã‚¸ã¸
  Future<void> completeTutorial()  // ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«å®Œäº†
  Future<void> resetTutorial()     // ãƒªã‚»ãƒƒãƒˆ (ãƒ‡ãƒãƒƒã‚°ç”¨)
}
```

**SharedPreferencesã‚­ãƒ¼**:
- `tutorial_completed`: boolean - ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«å®Œäº†ãƒ•ãƒ©ã‚°

---

### 2. ãƒšãƒ¼ã‚¸å†…ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«

å„ç”»é¢ã§ã€ãã®ç”»é¢å›ºæœ‰ã®æ“ä½œæ–¹æ³•ã‚’èª¬æ˜ã™ã‚‹ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã€‚

#### æ§‹æˆ

##### TutorialShowcaseWrapper (`presentaion/widgets/tutorial_showcase_wrapper.dart`)

- **å½¹å‰²**: ShowCaseViewãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã£ãŸã€UIè¦ç´ ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºç®¡ç†
- **è¡¨ç¤ºã‚¿ã‚¤ãƒŸãƒ³ã‚°**: å„ç”»é¢ã®åˆå›è¡¨ç¤ºæ™‚
- **ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**: `showcaseview: ^3.0.0`

```dart
// ä½¿ç”¨ä¾‹
TutorialShowcaseWrapper(
  pageKey: 'home',           // ãƒšãƒ¼ã‚¸è­˜åˆ¥å­
  showcaseKey: _showcaseKey, // ãƒã‚¤ãƒ©ã‚¤ãƒˆå¯¾è±¡ã®GlobalKey
  child: YourWidget(),
)
```

**å‹•ä½œãƒ•ãƒ­ãƒ¼**:
```
1. initState()
   â†“
2. hasShownTutorial()ã§è¡¨ç¤ºæ¸ˆã¿ã‹ãƒã‚§ãƒƒã‚¯
   â†“
3. æœªè¡¨ç¤ºã®å ´åˆ
   â†“
4. WidgetsBinding.instance.addPostFrameCallback()
   â†“
5. ShowCaseWidget.of(context).startShowCase([showcaseKey])
   â†“
6. markTutorialShown()ã§è¡¨ç¤ºæ¸ˆã¿ãƒ•ãƒ©ã‚°ã‚’ä¿å­˜
```

##### TutorialBottomSheet (`presentaion/widgets/tutorial_dialog.dart`)

- **å½¹å‰²**: å„ç”»é¢ã®æ“ä½œæ‰‹é †ã‚’è©³ç´°ã«èª¬æ˜ã™ã‚‹ãƒœãƒˆãƒ ã‚·ãƒ¼ãƒˆ
- **è¡¨ç¤ºæ–¹æ³•**: ãƒ˜ãƒ«ãƒ—ãƒœã‚¿ãƒ³ãªã©ã‹ã‚‰æ‰‹å‹•ã§å‘¼ã³å‡ºã—

```dart
// ä½¿ç”¨ä¾‹
TutorialBottomSheet.show(context, 'home');
```

**UIæ§‹æˆ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ãƒãƒ³ãƒ‰ãƒ«ãƒãƒ¼                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ“– æ“ä½œã‚¬ã‚¤ãƒ‰    [Ã—] â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                             â”‚
â”‚  1. ãƒˆãƒ”ãƒƒã‚¯ã‚’ç¢ºèª           â”‚
â”‚  [ç”»åƒ]                     â”‚
â”‚  ãƒˆãƒ”ãƒƒã‚¯ã‚’ç¢ºèªã—...         â”‚
â”‚                             â”‚
â”‚  2. æ„è¦‹ã‚’æŠ•ç¨¿              â”‚
â”‚  [ç”»åƒ]                     â”‚
â”‚  è³›æˆãƒ»åå¯¾ãƒ»ä¸­ç«‹...         â”‚
â”‚                             â”‚
â”‚  ...                        â”‚
â”‚                             â”‚
â”‚  [é–‰ã˜ã‚‹]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

##### TutorialStep (`models/page_tutorial_data.dart`)

```dart
class TutorialStep {
  final String title;        // ã‚¹ãƒ†ãƒƒãƒ—ã‚¿ã‚¤ãƒˆãƒ«
  final String description;  // ã‚¹ãƒ†ãƒƒãƒ—èª¬æ˜
  final String? imagePath;   // èª¬æ˜ç”»åƒãƒ‘ã‚¹ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
}
```

##### PageTutorialData (`models/page_tutorial_data.dart`)

```dart
class PageTutorialData {
  static const Map<String, List<TutorialStep>> tutorials = {
    'home': [/* ãƒ›ãƒ¼ãƒ ç”»é¢ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚¹ãƒ†ãƒƒãƒ— */],
    'statistics': [/* çµ±è¨ˆç”»é¢ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚¹ãƒ†ãƒƒãƒ— */],
    'challenge': [/* ãƒãƒ£ãƒ¬ãƒ³ã‚¸ç”»é¢ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚¹ãƒ†ãƒƒãƒ— */],
    'debate': [/* ãƒ‡ã‚£ãƒ™ãƒ¼ãƒˆç”»é¢ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚¹ãƒ†ãƒƒãƒ— */],
  };
}
```

**å®šç¾©æ¸ˆã¿ãƒšãƒ¼ã‚¸**:
- `home`: 5ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆãƒˆãƒ”ãƒƒã‚¯ç¢ºèªã€æ„è¦‹æŠ•ç¨¿ã€æ„è¦‹é–²è¦§ã€ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã€ãƒ‡ã‚£ãƒ™ãƒ¼ãƒˆï¼‰
- `statistics`: 3ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆå‚åŠ çµ±è¨ˆã€å¤šæ§˜æ€§ã‚¹ã‚³ã‚¢ã€ãƒãƒƒã‚¸ï¼‰
- `challenge`: 4ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆé¸æŠã€æ„è¦‹è€ƒæ¡ˆã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã€ãƒã‚¤ãƒ³ãƒˆç²å¾—ï¼‰
- `debate`: 5ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆé¸æŠã€ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã€å¾…æ©Ÿã€ãƒ‡ã‚£ãƒ™ãƒ¼ãƒˆã€AIåˆ¤å®šï¼‰

#### çŠ¶æ…‹ç®¡ç†

##### PageTutorialProvider (`providers/page_tutorial_provider.dart`)

```dart
final pageTutorialProvider =
    NotifierProvider<PageTutorialNotifier, Map<String, bool>>(() {
  return PageTutorialNotifier();
});

class PageTutorialNotifier extends Notifier<Map<String, bool>> {
  Future<bool> hasShownTutorial(String pageKey)        // è¡¨ç¤ºæ¸ˆã¿ãƒã‚§ãƒƒã‚¯
  Future<void> markTutorialShown(String pageKey)       // è¡¨ç¤ºæ¸ˆã¿ãƒãƒ¼ã‚¯
  Future<void> resetTutorial(String pageKey)           // ãƒªã‚»ãƒƒãƒˆ
  Future<void> resetAllTutorials()                     // å…¨ãƒªã‚»ãƒƒãƒˆ
}
```

**SharedPreferencesã‚­ãƒ¼**:
- `tutorial_shown_{pageKey}`: boolean - å„ãƒšãƒ¼ã‚¸ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«è¡¨ç¤ºæ¸ˆã¿ãƒ•ãƒ©ã‚°
  - ä¾‹: `tutorial_shown_home`, `tutorial_shown_statistics`

---

## ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°

### TutorialCard (`presentaion/widgets/tutorial_card.dart`)

åˆå›ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ä½¿ç”¨ã•ã‚Œã‚‹ã‚«ãƒ¼ãƒ‰Widgetã€‚

**ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£**:
- `item`: TutorialItem - è¡¨ç¤ºã™ã‚‹ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãƒ‡ãƒ¼ã‚¿

**ãƒ‡ã‚¶ã‚¤ãƒ³ä»•æ§˜**:
- ã‚«ãƒ¼ãƒ‰å¹…: æœ€å¤§400px (ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–)
- ã‚«ãƒ¼ãƒ‰é«˜ã•: æœ€å¤§500px (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«å¿œã˜ã¦èª¿æ•´)
- ã‚«ãƒ¼ãƒ‰è§’ä¸¸: 24px
- elevation: 8 (æµ®éŠæ„Ÿ)
- ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³: LinearGradient (primaryColor â†’ secondaryColor)

**è¡¨ç¤ºè¦ç´ **:
1. ã‚¢ã‚¤ã‚³ãƒ³ (å††å½¢ã€ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯)
2. ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ« (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
3. ã‚¿ã‚¤ãƒˆãƒ« (32pxã€å¤ªå­—)
4. èª¬æ˜æ–‡ (18pxã€è¡Œé–“1.6)
5. ç®‡æ¡æ›¸ããƒªã‚¹ãƒˆ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
6. ç”»åƒ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€showImage=trueã®å ´åˆ)

---

## ä¾å­˜é–¢ä¿‚

### å¤–éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|-----------|-----------|------|
| `flutter_riverpod` | ^3.0.0 | çŠ¶æ…‹ç®¡ç† |
| `go_router` | ^16.0.2 | ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° |
| `shared_preferences` | ^2.2.2 | ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆè¡¨ç¤ºçŠ¶æ…‹ã®æ°¸ç¶šåŒ–ï¼‰ |
| `showcaseview` | ^3.0.0 | UIè¦ç´ ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º |

### ã‚¢ãƒ—ãƒªå†…ä¾å­˜

```dart
// core
import 'package:tyarekyara/core/constants/app_colors.dart';

// ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š
import 'package:tyarekyara/core/route/app_router.dart';
```

**app_colors.dart**:
- `AppColors.primary`: ãƒ—ãƒ©ã‚¤ãƒãƒªã‚«ãƒ©ãƒ¼
- `AppColors.primaryLight`: ãƒ—ãƒ©ã‚¤ãƒãƒªãƒ©ã‚¤ãƒˆã‚«ãƒ©ãƒ¼
- `AppColors.background`: èƒŒæ™¯è‰²
- `AppColors.textSecondary`: ã‚»ã‚«ãƒ³ãƒ€ãƒªãƒ†ã‚­ã‚¹ãƒˆã‚«ãƒ©ãƒ¼
- `AppColors.textOnPrimary`: ãƒ—ãƒ©ã‚¤ãƒãƒªä¸Šã®ãƒ†ã‚­ã‚¹ãƒˆã‚«ãƒ©ãƒ¼

### ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š (`lib/core/route/app_router.dart`)

```dart
// åˆå›èµ·å‹•ç”»é¢
GoRoute(
  path: '/first',
  pageBuilder: (context, state) => const NoTransitionPage(
    child: FirstPage(),
  ),
),

// ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ç”»é¢
GoRoute(
  path: '/tutorial',
  pageBuilder: (context, state) => const NoTransitionPage(
    child: TutorialPage(),
  ),
),
```

**ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ­ã‚¸ãƒƒã‚¯**:
```dart
redirect: (context, state) async {
  final tutorialCompleted = prefs.getBool('tutorial_completed') ?? false;
  final isAuthenticated = FirebaseAuth.instance.currentUser != null;

  // æœªãƒ­ã‚°ã‚¤ãƒ³ & ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«æœªå®Œäº† â†’ /first ã¸
  if (!isAuthenticated && !tutorialCompleted) {
    return '/first';
  }

  // ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ & ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«æœªå®Œäº† â†’ /tutorial ã¸
  if (isAuthenticated && !tutorialCompleted) {
    return '/tutorial';
  }

  // ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«å®Œäº†æ¸ˆã¿ â†’ / (ãƒ›ãƒ¼ãƒ ) ã¸
  return null;
}
```

---

## ä»–æ©Ÿèƒ½ã¨ã®é–¢ä¿‚

Guideæ©Ÿèƒ½ã¯ã€ä»¥ä¸‹ã®4ã¤ã®featureã§ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚

### 1. Homeæ©Ÿèƒ½ (`lib/feature/home/`)

**ä½¿ç”¨ç®‡æ‰€**: `presentation/pages/daily_topic_home.dart`

```dart
import 'package:tyarekyara/feature/guide/presentaion/widgets/tutorial_showcase_wrapper.dart';
import 'package:tyarekyara/feature/guide/presentaion/widgets/tutorial_dialog.dart';

// ShowcaseViewã§UIè¦ç´ ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ
TutorialShowcaseWrapper(
  pageKey: 'home',
  showcaseKey: _showcaseKey,
  child: SomeWidget(),
);

// ãƒ˜ãƒ«ãƒ—ãƒœã‚¿ãƒ³ã‹ã‚‰ãƒœãƒˆãƒ ã‚·ãƒ¼ãƒˆè¡¨ç¤º
IconButton(
  icon: Icon(Icons.help_outline),
  onPressed: () => TutorialBottomSheet.show(context, 'home'),
);
```

### 2. Statisticsæ©Ÿèƒ½ (`lib/feature/statistics/`)

**ä½¿ç”¨ç®‡æ‰€**: `presentation/pages/statistic.dart`

```dart
// çµ±è¨ˆç”»é¢ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
TutorialShowcaseWrapper(
  pageKey: 'statistics',
  showcaseKey: _showcaseKey,
  child: StatisticsContent(),
);

TutorialBottomSheet.show(context, 'statistics');
```

### 3. Challengeæ©Ÿèƒ½ (`lib/feature/challenge/`)

**ä½¿ç”¨ç®‡æ‰€**: `presentaion/pages/challenge.dart`

```dart
// ãƒãƒ£ãƒ¬ãƒ³ã‚¸ç”»é¢ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
TutorialShowcaseWrapper(
  pageKey: 'challenge',
  showcaseKey: _showcaseKey,
  child: ChallengeContent(),
);

TutorialBottomSheet.show(context, 'challenge');
```

### 4. Debateæ©Ÿèƒ½ (`lib/feature/debate/`)

**ä½¿ç”¨ç®‡æ‰€**: `presentation/pages/debate_event_list_page.dart`

```dart
// ãƒ‡ã‚£ãƒ™ãƒ¼ãƒˆç”»é¢ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
TutorialShowcaseWrapper(
  pageKey: 'debate',
  showcaseKey: _showcaseKey,
  child: DebateContent(),
);

TutorialBottomSheet.show(context, 'debate');
```

---

## ä½¿ç”¨ä¾‹

### åˆå›ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®å®Œäº†ãƒã‚§ãƒƒã‚¯

```dart
import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:tyarekyara/feature/guide/providers/tutorial_provider.dart';

class SomeWidget extends ConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final tutorialCompleted = ref.watch(tutorialCompletedProvider);

    return tutorialCompleted.when(
      data: (completed) {
        if (completed) {
          return HomeScreen();
        } else {
          return TutorialPage();
        }
      },
      loading: () => CircularProgressIndicator(),
      error: (err, stack) => ErrorWidget(err),
    );
  }
}
```

### ãƒšãƒ¼ã‚¸å†…ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®å®Ÿè£…

```dart
import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:showcaseview/showcaseview.dart';
import 'package:tyarekyara/feature/guide/presentaion/widgets/tutorial_showcase_wrapper.dart';
import 'package:tyarekyara/feature/guide/presentaion/widgets/tutorial_dialog.dart';

class NewFeaturePage extends ConsumerStatefulWidget {
  @override
  ConsumerState<NewFeaturePage> createState() => _NewFeaturePageState();
}

class _NewFeaturePageState extends ConsumerState<NewFeaturePage> {
  final GlobalKey _showcaseKey = GlobalKey();

  @override
  Widget build(BuildContext context) {
    return ShowCaseWidget(
      builder: (context) => Scaffold(
        appBar: AppBar(
          title: Text('æ–°æ©Ÿèƒ½'),
          actions: [
            // ãƒ˜ãƒ«ãƒ—ãƒœã‚¿ãƒ³
            IconButton(
              icon: Icon(Icons.help_outline),
              onPressed: () {
                TutorialBottomSheet.show(context, 'new_feature');
              },
            ),
          ],
        ),
        body: TutorialShowcaseWrapper(
          pageKey: 'new_feature',
          showcaseKey: _showcaseKey,
          child: YourContent(
            child: Showcase(
              key: _showcaseKey,
              title: 'é‡è¦ãªæ©Ÿèƒ½',
              description: 'ã“ã®æ©Ÿèƒ½ã‚’ä½¿ã†ã¨â—‹â—‹ãŒã§ãã¾ã™',
              child: ElevatedButton(
                onPressed: () {},
                child: Text('ã‚¢ã‚¯ã‚·ãƒ§ãƒ³'),
              ),
            ),
          ),
        ),
      ),
    );
  }
}
```

### æ–°ã—ã„ãƒšãƒ¼ã‚¸ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãƒ‡ãƒ¼ã‚¿è¿½åŠ 

**1. `models/page_tutorial_data.dart` ã«ãƒ‡ãƒ¼ã‚¿è¿½åŠ **:

```dart
class PageTutorialData {
  static const Map<String, List<TutorialStep>> tutorials = {
    // æ—¢å­˜ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«...

    // æ–°ã—ã„ãƒšãƒ¼ã‚¸ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
    'new_feature': [
      TutorialStep(
        title: '1. æ©Ÿèƒ½ã®é¸æŠ',
        description: 'ã¾ãšä½¿ã„ãŸã„æ©Ÿèƒ½ã‚’é¸æŠã—ã¾ã™',
        imagePath: 'assets/images/tutorial/new_feature/step1.png',
      ),
      TutorialStep(
        title: '2. è¨­å®šã®èª¿æ•´',
        description: 'å¿…è¦ã«å¿œã˜ã¦è¨­å®šã‚’èª¿æ•´ã§ãã¾ã™',
        imagePath: 'assets/images/tutorial/new_feature/step2.png',
      ),
    ],
  };
}
```

**2. ç”»é¢ã§ä½¿ç”¨**:

```dart
TutorialBottomSheet.show(context, 'new_feature');
```

---

## æ‹¡å¼µæ–¹æ³•

### 1. åˆå›ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã«ãƒšãƒ¼ã‚¸ã‚’è¿½åŠ 

**é›£æ˜“åº¦**: â­ (ç°¡å˜)

`models/tutorial_item.dart` ã® `TutorialData.items` ã«è¿½åŠ :

```dart
class TutorialData {
  static const List<TutorialItem> items = [
    // æ—¢å­˜ã®ã‚¢ã‚¤ãƒ†ãƒ ...

    // æ–°è¦è¿½åŠ 
    TutorialItem(
      title: 'æ–°æ©Ÿèƒ½',
      subtitle: 'æ–°ã—ãè¿½åŠ ã•ã‚ŒãŸæ©Ÿèƒ½',
      description: 'ã“ã®æ–°æ©Ÿèƒ½ã‚’ä½¿ã†ã¨â—‹â—‹ãŒã§ãã¾ã™',
      icon: Icons.new_releases,
      primaryColor: Color(0xFF00BCD4),
      secondaryColor: Color(0xFF0097A7),
      bulletPoints: [
        'æ©Ÿèƒ½1ã®èª¬æ˜',
        'æ©Ÿèƒ½2ã®èª¬æ˜',
        'æ©Ÿèƒ½3ã®èª¬æ˜',
      ],
      imagePath: 'assets/images/onboarding/new_feature.png',
      showImage: true,
    ),
  ];
}
```

**è‡ªå‹•çš„ã«**:
- ãƒšãƒ¼ã‚¸ãŒè¿½åŠ ã•ã‚Œã‚‹
- PageIndicatorãŒæ›´æ–°ã•ã‚Œã‚‹
- ã‚¹ãƒ¯ã‚¤ãƒ—ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒå‹•ä½œã™ã‚‹

### 2. ãƒšãƒ¼ã‚¸å†…ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

**é›£æ˜“åº¦**: â­â­ (ä¸­ç´š)

**ShowcaseViewã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**:

```dart
Showcase(
  key: _showcaseKey,
  title: 'ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¤ãƒˆãƒ«',
  description: 'ã‚«ã‚¹ã‚¿ãƒ èª¬æ˜æ–‡',
  targetShapeBorder: CircleBorder(),  // ãƒã‚¤ãƒ©ã‚¤ãƒˆå½¢çŠ¶
  tooltipBackgroundColor: Colors.blue,
  textColor: Colors.white,
  targetBorderRadius: BorderRadius.circular(16),
  child: YourWidget(),
)
```

**è¤‡æ•°ã®è¦ç´ ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ**:

```dart
final _showcaseKeys = [
  GlobalKey(),
  GlobalKey(),
  GlobalKey(),
];

// è¡¨ç¤ºé–‹å§‹
ShowCaseWidget.of(context).startShowCase(_showcaseKeys);
```

### 3. ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«å®Œäº†å¾Œã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

**é›£æ˜“åº¦**: â­â­ (ä¸­ç´š)

```dart
class TutorialNotifier extends Notifier<int> {
  Future<void> completeTutorial() async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setBool('tutorial_completed', true);

    // ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
    // ä¾‹: åˆå›ãƒœãƒ¼ãƒŠã‚¹ãƒã‚¤ãƒ³ãƒˆã‚’ä»˜ä¸
    await _grantWelcomeBonus();

    // ä¾‹: ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ã‚¤ãƒ™ãƒ³ãƒˆé€ä¿¡
    await _trackTutorialCompletion();

    ref.invalidate(tutorialCompletedProvider);
  }

  Future<void> _grantWelcomeBonus() async {
    // ãƒœãƒ¼ãƒŠã‚¹ãƒã‚¤ãƒ³ãƒˆä»˜ä¸å‡¦ç†
  }

  Future<void> _trackTutorialCompletion() async {
    // ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹é€ä¿¡å‡¦ç†
  }
}
```

### 4. ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã«ã‚ˆã‚‹ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«å†è¡¨ç¤º

**é›£æ˜“åº¦**: â­â­â­ (ä¸Šç´š)

ã‚¢ãƒ—ãƒªæ›´æ–°æ™‚ã«æ–°æ©Ÿèƒ½ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’è¡¨ç¤ºã™ã‚‹:

```dart
class TutorialNotifier extends Notifier<int> {
  static const String currentVersion = '2.0.0';

  Future<bool> shouldShowTutorial() async {
    final prefs = await SharedPreferences.getInstance();
    final completed = prefs.getBool('tutorial_completed') ?? false;
    final lastVersion = prefs.getString('tutorial_version') ?? '0.0.0';

    // æœªå®Œäº†ã€ã¾ãŸã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤ã„å ´åˆ
    return !completed || lastVersion != currentVersion;
  }

  Future<void> completeTutorial() async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setBool('tutorial_completed', true);
    await prefs.setString('tutorial_version', currentVersion);
    ref.invalidate(tutorialCompletedProvider);
  }
}
```

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Q1: ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãŒè¡¨ç¤ºã•ã‚Œãªã„

**åŸå› 1**: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®å•é¡Œ

**è§£æ±ºç­–**:
```dart
// app_router.dart ã‚’ç¢ºèª
GoRoute(
  path: '/first',
  pageBuilder: (context, state) => const NoTransitionPage(
    child: FirstPage(),
  ),
),
GoRoute(
  path: '/tutorial',
  pageBuilder: (context, state) => const NoTransitionPage(
    child: TutorialPage(),
  ),
),
```

**åŸå› 2**: æ—¢ã«å®Œäº†æ¸ˆã¿

**è§£æ±ºç­–**:
```dart
// ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’ãƒªã‚»ãƒƒãƒˆ
final prefs = await SharedPreferences.getInstance();
await prefs.setBool('tutorial_completed', false);

// ã¾ãŸã¯
await ref.read(tutorialNotifierProvider.notifier).resetTutorial();
```

---

### Q2: ShowcaseViewãŒè¡¨ç¤ºã•ã‚Œãªã„

**åŸå› **: ShowCaseWidgetã§ãƒ©ãƒƒãƒ—ã•ã‚Œã¦ã„ãªã„

**è§£æ±ºç­–**:
```dart
// ãƒšãƒ¼ã‚¸å…¨ä½“ã‚’ShowCaseWidgetã§ãƒ©ãƒƒãƒ—
ShowCaseWidget(
  builder: (context) => YourPage(),
)
```

**åŸå› **: GlobalKeyãŒé‡è¤‡ã—ã¦ã„ã‚‹

**è§£æ±ºç­–**:
```dart
// å„Showcaseã«å›ºæœ‰ã®GlobalKeyã‚’ä½¿ç”¨
final _showcaseKey1 = GlobalKey();
final _showcaseKey2 = GlobalKey();
final _showcaseKey3 = GlobalKey();
```

---

### Q3: ç”»åƒãŒè¡¨ç¤ºã•ã‚Œãªã„

**åŸå› **: assets ã®ç™»éŒ²å¿˜ã‚Œ

**è§£æ±ºç­–**:
```yaml
# pubspec.yaml
flutter:
  assets:
    - assets/images/onboarding/
    - assets/images/tutorial/home/
    - assets/images/tutorial/statistics/
    - assets/images/tutorial/challenge/
    - assets/images/tutorial/debate/
```

**åŸå› **: ãƒ‘ã‚¹ã®é–“é•ã„

**è§£æ±ºç­–**:
```dart
// æ­£ã—ã„ãƒ‘ã‚¹
imagePath: 'assets/images/onboarding/icon.png',

// é–“é•ã„
imagePath: '/assets/images/onboarding/icon.png',  // å…ˆé ­ã® / ã¯ä¸è¦
imagePath: 'assets/images/onboarding/icon',       // æ‹¡å¼µå­ãŒå¿…è¦
```

---

### Q4: ãƒšãƒ¼ã‚¸å†…ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãŒæ¯å›è¡¨ç¤ºã•ã‚Œã‚‹

**åŸå› **: markTutorialShownãŒå‘¼ã°ã‚Œã¦ã„ãªã„

**è§£æ±ºç­–**:
```dart
// TutorialShowcaseWrapperã‚’ä½¿ç”¨ï¼ˆè‡ªå‹•ã§ãƒãƒ¼ã‚¯ã•ã‚Œã‚‹ï¼‰
TutorialShowcaseWrapper(
  pageKey: 'your_page',
  showcaseKey: _showcaseKey,
  child: YourContent(),
);

// æ‰‹å‹•ã§ãƒãƒ¼ã‚¯ã™ã‚‹å ´åˆ
ref.read(pageTutorialProvider.notifier).markTutorialShown('your_page');
```

---

### Q5: ãƒªã‚»ãƒƒãƒˆæ–¹æ³•ï¼ˆé–‹ç™ºãƒ»ãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰

**åˆå›ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ãƒªã‚»ãƒƒãƒˆ**:
```dart
// ProviderçµŒç”±
await ref.read(tutorialNotifierProvider.notifier).resetTutorial();

// SharedPreferencesç›´æ¥æ“ä½œ
final prefs = await SharedPreferences.getInstance();
await prefs.setBool('tutorial_completed', false);
```

**ãƒšãƒ¼ã‚¸å†…ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ãƒªã‚»ãƒƒãƒˆ**:
```dart
// ç‰¹å®šã®ãƒšãƒ¼ã‚¸
await ref.read(pageTutorialProvider.notifier).resetTutorial('home');

// å…¨ãƒšãƒ¼ã‚¸
await ref.read(pageTutorialProvider.notifier).resetAllTutorials();

// SharedPreferencesç›´æ¥æ“ä½œ
final prefs = await SharedPreferences.getInstance();
await prefs.remove('tutorial_shown_home');
```

**ã‚¢ãƒ—ãƒªãƒ‡ãƒ¼ã‚¿ã®å®Œå…¨ãƒªã‚»ãƒƒãƒˆ**:
- iOS: ã‚¢ãƒ—ãƒªã‚’å‰Šé™¤ã—ã¦å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- Android: è¨­å®š > ã‚¢ãƒ—ãƒª > ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤

---

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®é•·ã•

**åˆå›ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«**:
- æ¨å¥¨: 5-7ãƒšãƒ¼ã‚¸
- æœ€å¤§: 10ãƒšãƒ¼ã‚¸ã¾ã§
- å„ãƒšãƒ¼ã‚¸: 30ç§’ä»¥å†…ã§èª­ã‚ã‚‹é‡

**ãƒšãƒ¼ã‚¸å†…ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«**:
- æ¨å¥¨: 3-5ã‚¹ãƒ†ãƒƒãƒ—
- æœ€å¤§: 7ã‚¹ãƒ†ãƒƒãƒ—ã¾ã§

### 2. ãƒ†ã‚­ã‚¹ãƒˆã®ç°¡æ½”ã•

âŒ æ‚ªã„ä¾‹:
```dart
description: 'ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€æ§˜ã€…ãªæ©Ÿèƒ½ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚'
             'ã¾ãšæœ€åˆã«ã€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚'
             'ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã«ã¯ã€ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã€å¹´é½¢ã€åœ°åŸŸãªã©ã®æƒ…å ±ã‚’å…¥åŠ›ã—ã¾ã™ã€‚'
```

âœ… è‰¯ã„ä¾‹:
```dart
description: 'ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’è¨­å®šã—ã¦\nã‚¢ãƒ—ãƒªã‚’å§‹ã‚ã¾ã—ã‚‡ã†ï¼'
```

### 3. è¦–è¦šçš„éšå±¤

```dart
// ã‚¿ã‚¤ãƒˆãƒ«: å¤§ããå¤ªå­—
fontSize: 32,
fontWeight: FontWeight.bold,

// ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«: ä¸­ç¨‹åº¦
fontSize: 20,
fontWeight: FontWeight.w600,

// èª¬æ˜æ–‡: æ¨™æº–
fontSize: 18,
height: 1.6,

// è£œè¶³: å°ã•ã‚
fontSize: 14,
color: Colors.grey[600],
```

### 4. ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

```dart
// ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”ã‚’ç¢ºä¿
primaryColor: Color(0xFF1976D2),  // ååˆ†ãªæ¿ƒã•
textColor: Colors.white,          // èƒŒæ™¯ã¨ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ

// èª­ã¿ã‚„ã™ã„ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º
fontSize: 18,  // æœ€å°ã§ã‚‚16pxä»¥ä¸Šæ¨å¥¨

// ã‚¿ãƒƒãƒ—é ˜åŸŸã‚’ååˆ†ã«ç¢ºä¿
minWidth: 48,
minHeight: 48,
```

### 5. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

**ç”»åƒã®æœ€é©åŒ–**:
- ã‚µã‚¤ã‚º: æœ€å¤§1024x1024
- å½¢å¼: WebPæ¨å¥¨ï¼ˆè»½é‡ï¼‰
- åœ§ç¸®: å“è³ª80-90%

**ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³**:
```dart
// é©åº¦ãªé€Ÿã•
duration: const Duration(milliseconds: 300),
curve: Curves.easeInOut,
```

---

## å‚è€ƒè³‡æ–™

- [Material Design - Onboarding](https://material.io/design/communication/onboarding.html)
- [Flutter PageView](https://api.flutter.dev/flutter/widgets/PageView-class.html)
- [Riverpod Documentation](https://riverpod.dev/)
- [SharedPreferences](https://pub.dev/packages/shared_preferences)
- [ShowcaseView](https://pub.dev/packages/showcaseview)

---

## å¤‰æ›´å±¥æ­´

### v2.0.0 (2025-01-XX)
- ãƒšãƒ¼ã‚¸å†…ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«æ©Ÿèƒ½ã‚’è¿½åŠ 
- ShowcaseViewçµ±åˆ
- TutorialBottomSheetè¿½åŠ 
- PageTutorialDataãƒ¢ãƒ‡ãƒ«è¿½åŠ 
- 4ã¤ã®æ©Ÿèƒ½ç”»é¢ï¼ˆhome, statistics, challenge, debateï¼‰ã§ä½¿ç”¨é–‹å§‹

### v1.0.0 (2025-01-XX)
- åˆç‰ˆãƒªãƒªãƒ¼ã‚¹
- åŸºæœ¬çš„ãªãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«æ©Ÿèƒ½
- FirstPageè¿½åŠ 
- TutorialPageå®Ÿè£…
- 9ãƒšãƒ¼ã‚¸ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
- SharedPreferencesã«ã‚ˆã‚‹æ°¸ç¶šåŒ–
